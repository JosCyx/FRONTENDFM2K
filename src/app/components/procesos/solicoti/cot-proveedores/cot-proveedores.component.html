<div class="proveedores mb-2 ">
    <div class="row p-3">
        <div class="busqProveedor row col">
            <h3>Busqueda de proveedores</h3>
            <div class="input-group col">
                <select class="form-select custom-select" [(ngModel)]="tipoBusqProv" name="buscarOpcion" style="background-color: #d6d6d6;">
                    <option selected value="nombre">Nombres</option>
                    <option value="ruc">RUC</option>
                </select>
                <input type="text" class="form-control" placeholder="Término de busqueda"
                    name="terminoBusqueda" [(ngModel)]="terminoBusq">
                <button class="btn btn-success" type="button" (click)="searchProveedor()">Buscar</button>
                
            </div>
            <div class="col">
                <button class="btn btn-primary" data-toggle="modal" data-target="#newProveedor">Nuevo proveedor</button>
            </div>
        </div>
    </div>
    
    <div class="busqueda_prov p-3">
        <div class="bg-light rounded text-center" *ngIf="!proveedoresList$">
            <h4 *ngIf="!proveedoresList$" class="text-danger m-3 p-3">Ingrese un término de busqueda</h4>
        </div>
        <table *ngIf="proveedoresList$" class="table table-bordered text-center table-hover table-rounded">
            <thead>
                <tr>
                    <th class="align-middle">Ruc</th>
                    <th class="align-middle">Nombre</th>
                    <th class="align-middle">Teléfono</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let prov of proveedoresList$ | async" (click)="selectProveedor(prov)"> 
                    <td class="align-middle">{{prov.prov_ruc}}</td>
                    <td class="align-middle">{{prov.prov_nombre}}</td>
                    <td class="align-middle">{{prov.prov_telefono}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="selected-prov p-3" *ngIf="proveedorListSelected.length != 0">
        <h3>Proveedores seleccionados</h3>
        <table class="table table-striped table-bordered text-center table-rounded">
            <thead>
                <tr>
                    <th class="align-middle">Ruc</th>
                    <th class="align-middle" style="width: 20%;">Nombre</th>
                    <th class="align-middle">Teléfono</th>
                    <th class="align-middle">Correo</th>
                    <th class="align-middle">Dirección</th>
                    <th class="align-middle">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let prov of proveedorListSelected let i=index">
                    <td class="align-middle">{{prov.prov_ruc}}</td>
                    <td class="align-middle">{{prov.prov_nombre}}</td>
                    <td class="align-middle"><input type="email" class="form-control" placeholder="Ingrese el correo" [value]="prov.prov_telefono"></td>
                    <td class="align-middle"><input type="email" class="form-control" placeholder="Ingrese el correo" required></td>
                    <td class="align-middle"><input type="text" class="form-control" placeholder="Ingrese la dirección"></td>
                    <td class="align-middle"><a class="btn-prov" (click)="deleteProvSelected(i)"><i class="bi bi-x-circle-fill text-danger m-1"></i></a>
                        <a class="btn-prov" data-toggle="modal" data-target="#senMailtoProv"> <i class="bi bi-envelope-fill text-success  m-1"></i></a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<!-- Modal para enviar correo al proveedor-->
<div class="modal fade" id="senMailtoProv" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h3 class="font-weight-bold" id="exampleModalLabel">
                    Enviar correo al Proveedor Seleccionado
                </h3>
            </div>
            <div class="modal-body">
                <p>Cuerpo</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    Confirmar
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancelar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal para crear nuevo proveedor-->
<div class="modal fade" id="newProveedor" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h3 class="font-weight-bold" id="exampleModalLabel">
                    Agregar un nuevo proveedor
                </h3>
            </div>
            <div class="modal-body">
                <p>Cuerpo</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    Confirmar
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancelar
                </button>
            </div>
        </div>
    </div>
</div>