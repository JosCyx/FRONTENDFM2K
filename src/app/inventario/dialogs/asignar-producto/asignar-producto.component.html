<div class="justify-content-center text-center m-2">
    <h3 class="font-weight-bold" id="exampleModalLabel">
        ASIGNAR PRODUCTOS A SU SECTOR
    </h3>
</div>


<div class="cont-modals">
    <div style="display: flex; flex-direction: row; justify-content: space-between; gap: 10px;">
        <div style="width: 100% !important;">

            <!-- <mat-form-field class="example-full-width">
                <mat-label>Producto</mat-label>
                <input type="text" matInput [matAutocomplete]="auto" [(ngModel)]="productoSeleccionado">
                <mat-autocomplete #auto="matAutocomplete">
                    <ng-container *ngFor="let prod of productosList">
                        <mat-option [value]="prod.nombre">{{prod.nombre}}</mat-option>
                    </ng-container>
                </mat-autocomplete>
            </mat-form-field> -->

            <mat-form-field class="example-full-width">
                <mat-label>Producto</mat-label>
                <input type="text" matInput [matAutocomplete]="auto" [formControl]="myControl">
                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onOptionSelected($event.option.value)">
                  <mat-option *ngFor="let prod of filteredOptions | async" [value]="prod.nombre">
                    {{ prod.nombre }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>

            <!-- <mat-form-field>
                <input matInput placeholder="Ingrese el nombre del producto" list="productDataList" id="Producto"
                name="Producto" />
                <datalist id="productDataList">
                    <ng-container *ngFor="let prod of productosList">
                        <option [value]="prod.nombre"></option>
                    </ng-container>
                </datalist>
            </mat-form-field> -->
        </div>
        <!-- <div style="width: 10% !important;">
            <button mat-fab color="primary" (click)="addProdcut()"><mat-icon>done</mat-icon></button>
        </div> -->
    </div>

    <div class="alert alert-warning" role="alert" *ngIf="errorAsign">
        {{ errorMessage }}
    </div>
</div>

<div style="padding-left: 20px; padding-right: 20px;">
    <mat-list role="list">
        <ng-container *ngFor="let prod of productsToAsign">
            <mat-list-item role="listitem" class="disenio-selects">
                <div style="display: flex; flex-direction: row; justify-content: space-between;">
                    <div class="texto">{{ prod.nombre }}</div>
                    <button mat-icon-button color="warn" (click)="eliminarProducto(prod)"><mat-icon>close</mat-icon></button>
                </div>
            </mat-list-item>
        </ng-container>
    </mat-list>
</div>

<div class="div-buttons">

    <div *appAuthorize="'81'">
        <h3>Si no encontró su producto, <a class="abtn" (click)="launchRegisterProduct()">agréguelo aquí.</a></h3>
    </div>
    <div style="display: flex; flex-direction: row; gap: 10px;">
        <button mat-flat-button color="primary" (click)="asignProducts()" >Confirmar</button>
        <button mat-flat-button color="warn" (click)="cancelarAsignacion()" >Cancelar</button>
    </div>
</div>